<ion-header>
    <ion-navbar>
        <ion-title class="chat-title">{{displayUser().name}}</ion-title>
        <ion-buttons end>
            <button (click)="presentPopover($event)"><ion-icon name="more"></ion-icon></button>
        </ion-buttons>
    </ion-navbar>
</ion-header>
<ion-content class="chat-page">
    <ion-list class="list messages-list">
        <ion-item text-wrap
            class="item item-text-wrap"
            [ngClass]="{'other' : isMessageFromReceiver(message)}"
            *ngFor="let message of messages">

            <ion-img [src]="sender(message).profilePhotoUrl"
                [alt]="img"></ion-img>

            <div class="msg-text">
                <p>{{ message.text }} </p>
                <ion-note class="item-note">{{message.sentAt | dateAndTime}}</ion-note>
            </div>
        </ion-item>
    </ion-list>
</ion-content>
<ion-footer>
    <ion-toolbar [style.min-height]="messageTextAreaHeight+20+'px'"
        class="bar item-input-inset">
        <div class="ur-message-send">
            <label class="item-input-wrapper">
                <ion-textarea type="text"
                    [style.min-height]="messageTextAreaHeight+'px'"
                    [(ngModel)]="messageText"
                    placeholder="{{'chat.typeMessage' | translate}}"></ion-textarea>
            </label>
        </div>
        <ion-buttons end>
            <button clear
                class="button-icon"
                (click)="sendMessageClick()">
                <ion-icon name="md-send"></ion-icon>
            </button>
        </ion-buttons>
    </ion-toolbar>
</ion-footer>
