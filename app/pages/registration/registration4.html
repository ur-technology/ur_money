<ion-header>
    <ion-navbar>
        <ion-title>Finish Account Setup</ion-title>
        <button clear
            class="right"
            [disabled]="!mainForm.valid"
            (click)="submit()">
            Done
        </button>
    </ion-navbar>
</ion-header>
<ion-content padding
    class="registration registration4">
    <form [formGroup]="mainForm">
        <ion-item-group>
            <ion-item-divider light>Your public profile information</ion-item-divider>
            <ion-item>
                <ion-input [focuser]
                    type="text"
                    [(ngModel)]="profile.firstName"
                    formControlName="firstName"
                    placeholder="First name"></ion-input>
            </ion-item>
            <ion-item>
                <ion-input [focuser]
                    type="text"
                    [(ngModel)]="profile.middleName"
                    formControlName="middleName"
                    placeholder="Middle name (optional)"></ion-input>
            </ion-item>
            <ion-item>
                <ion-input type="text"
                    [(ngModel)]="profile.lastName"
                    formControlName="lastName"
                    placeholder="Last name"></ion-input>
            </ion-item>
            <ion-item>
                <ion-select [(ngModel)]="profile.country"
                    [ngModelOptions]="{standalone: true}"
                    (ionChange)="countrySelected()">
                    <ion-option [value]="c"
                        *ngFor="let c of countries">{{c.name}}</ion-option>
                </ion-select>
            </ion-item>
            <ion-item>
                <ion-select [hidden]="!states || !states.length"
                    [(ngModel)]="profile.state"
                    [ngModelOptions]="{standalone: true}"
                    (ionChange)="stateSelected()">
                    <ion-option [value]="s"
                        *ngFor="let s of states">{{s.name}}</ion-option>
                </ion-select>
                <ion-input [hidden]="states && states.length"
                    type="text"
                    [(ngModel)]="profile.stateName"
                    formControlName="stateName"
                    placeholder="State or Province"></ion-input>
            </ion-item>
            <ion-item>
                <ion-input type="text"
                    [(ngModel)]="profile.city"
                    formControlName="city"
                    placeholder="City"></ion-input>
            </ion-item>

        </ion-item-group>
        <ion-item-group>
            <ion-item-divider light>Your private account information</ion-item-divider>
            <ion-item>
                <button type="text"
                    secondary
                    (click)="suggestSecretPhrase()">
                    Suggest Secret Phrase
                </button>
            </ion-item>
            <ion-item>
                <ion-input type="text"
                    [(ngModel)]="profile.secretPhrase"
                    formControlName="secretPhrase"
                    [(ngModel)]="secretPhrase"
                    placeholder="Please enter at least 5 secret words"></ion-input>
            </ion-item>
            <ion-item>
                <ion-input type="text"
                    [(ngModel)]="profile.secretPhraseConfirmation"
                    formControlName="secretPhraseConfirmation"
                    otherControl="secretPhrase"
                    placeholder="Re-type your secret words"></ion-input>
            </ion-item>
        </ion-item-group>
    </form>
</ion-content>
