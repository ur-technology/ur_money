<ion-header>
    <ion-navbar>
        <ion-title>{{"identity-verification.title" | translate}}</ion-title>
        <ion-buttons end>
          <button [disabled]="!mainForm.valid" (click)="submit()">
              {{"done" | translate}}
          </button>
        </ion-buttons>
    </ion-navbar>
</ion-header>
<ion-content padding class="registration profile-setup">
  {{ mainForm._errors}}
    <form [formGroup]="mainForm">
      <ion-item-group>
        <ion-item>
            <ion-select [(ngModel)]="verification.PersonInfo.Gender" formControlName="gender">
                <ion-option [value]="s.value" *ngFor="let s of genders">{{s.name}}</ion-option>
            </ion-select>
        </ion-item>
        <ion-item>
            <ion-input type="text" [(ngModel)]="verification.PersonInfo.DayOfBirth" formControlName="dayOfBirth" placeholder="{{'identity-verification.birthDay' | translate}}"></ion-input>
        </ion-item>
        <ion-item>
            <ion-input type="text" [(ngModel)]="verification.PersonInfo.MonthOfBirth" formControlName="monthOfBirth" placeholder="{{'identity-verification.birthMonth' | translate}}"></ion-input>
        </ion-item>
        <ion-item>
            <ion-input type="text" [(ngModel)]="verification.PersonInfo.YearOfBirth" formControlName="yearOfBirth" placeholder="{{'identity-verification.birthYear' | translate}}"></ion-input>
        </ion-item>
      </ion-item-group>
      <ion-item-group>
        <ion-item>
          <ion-select [(ngModel)]="identificationType" formControlName="identificationType" (ionChange)="identificationTypeSelected()">
              <ion-option [value]="t.value" *ngFor="let t of identificationTypes">{{t.name}}</ion-option>
          </ion-select>
        </ion-item>
      </ion-item-group>

        <ion-item-group *ngIf="identificationType == 'Driver License'">
          <ion-item>
              <ion-select [(ngModel)]="verification.DriverLicense.State" formControlName="driverLicenseState">
                  <ion-option [value]="s" *ngFor="let s of driverLicenseStates">{{s}}</ion-option>
              </ion-select>
          </ion-item>
          <ion-item>
              <ion-input type="text" [(ngModel)]="verification.DriverLicense.Number" formControlName="driverLicenseNumber" placeholder="{{'identity-verification.driverLicence' | translate}}"></ion-input>
          </ion-item>
        </ion-item-group>

        <ion-item-group *ngIf="identificationType == 'National Id'">
          <ion-item>
              <ion-input type="text" [(ngModel)]="verification.NationalId.Number" formControlName="nationalIdNumber" placeholder="{{nationalIdPlaceholder()}}"></ion-input>
          </ion-item>
        </ion-item-group>

        <ion-item-group *ngIf="identificationType == 'Passport'">
          <ion-item>
              <ion-input type="text" [(ngModel)]="verification.Passport.Mrz1" formControlName="passportMrz1" placeholder="{{'identity-verification.MRI1' | translate}}"></ion-input>
          </ion-item>
          <ion-item>
              <ion-input type="text" [(ngModel)]="verification.Passport.Mrz2" formControlName="passportMrz2" placeholder="{{'identity-verification.MRI2' | translate}}"></ion-input>
          </ion-item>
          <ion-item>
              <ion-input type="text" [(ngModel)]="verification.Passport.Number" formControlName="passportNumber" placeholder="{{'identity-verification.passportNumber' | translate}}"></ion-input>
          </ion-item>
          <ion-item>
              <ion-input type="text" [(ngModel)]="verification.Passport.DayOfExpiry" formControlName="passportDayOfExpiry" placeholder="{{'identity-verification.passportDay' | translate}}"></ion-input>
          </ion-item>
          <ion-item>
              <ion-input type="text" [(ngModel)]="verification.Passport.MonthOfExpiry" formControlName="passportMonthOfExpiry" placeholder="{{'identity-verification.passportMonth' | translate}}"></ion-input>
          </ion-item>
          <ion-item>
              <ion-input type="text" [(ngModel)]="verification.Passport.YearOfExpiry" formControlName="passportYearOfExpiry" placeholder="{{'identity-verification.passportYear' | translate}}"></ion-input>
          </ion-item>
        </ion-item-group>
    </form>
</ion-content>
