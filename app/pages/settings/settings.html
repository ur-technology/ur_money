<ion-navbar *navbar>
  <ion-title>Settings</ion-title>
  <button clear class="right" [disabled]="!mainForm.valid" (click)="submit()">
      Save
  </button>
</ion-navbar>

<ion-content padding class="settings">
  <form [ngFormModel]="mainForm">
    <ion-item-group>
      <ion-item-divider light>Your public profile information</ion-item-divider>
      <ion-item>
        <ion-input [focuser] type="text" [(ngModel)]="profile.firstName" [ngFormControl]="mainForm.controls.firstName" placeholder="First name"></ion-input>
      </ion-item>
      <ion-item>
        <ion-input type="text" [(ngModel)]="profile.lastName" [ngFormControl]="mainForm.controls.lastName" placeholder="Last name"></ion-input>
      </ion-item>
      <ion-item>
        <ion-select [(ngModel)]="profile.country" (ionChange)="countrySelected()">
          <ion-option [value]="c" *ngFor="let c of countries">{{c.name}}</ion-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-select [hidden]="!states || !states.length" [(ngModel)]="profile.state" (ionChange)="stateSelected()">
          <ion-option [value]="s" *ngFor="let s of states">{{s.name}}</ion-option>
        </ion-select>
        <ion-input  [hidden]="states && states.length" type="text" [(ngModel)]="profile.stateName" [ngFormControl]="mainForm.controls.stateName" placeholder="State or Province"></ion-input>
      </ion-item>
      <ion-item>
        <ion-input type="text" [(ngModel)]="profile.city" [ngFormControl]="mainForm.controls.city" placeholder="City"></ion-input>
      </ion-item>

    </ion-item-group>
  </form>
  <button class="sign-out-button" type="text" danger small (click)="signOut()">
    <ion-icon name="power"></ion-icon>Sign Out
  </button>
</ion-content>
