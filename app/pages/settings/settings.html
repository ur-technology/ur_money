<ion-header>
    <ion-navbar>
        <ion-title>Settings</ion-title>
        <button clear
            class="right"
            [disabled]="!mainForm.valid"
            (click)="submit()">
            Save
        </button>
    </ion-navbar>
</ion-header>
<ion-content padding
    class="settings">
    <form [formGroup]="mainForm">
        <ion-item-group>
            <ion-item-divider light>Your public profile information</ion-item-divider>
            <ion-item>
                <ion-input [focuser]
                    type="text"
                    [(ngModel)]="profile.firstName"
                    formControlName="firstName"
                    placeholder="First name"></ion-input>
            </ion-item>
            <ion-item>
                <ion-input [focuser]
                    type="text"
                    [(ngModel)]="profile.middleName"
                    formControlName="middleName"
                    placeholder="Middle name (optional)"></ion-input>
            </ion-item>
            <ion-item>
                <ion-input type="text"
                    [(ngModel)]="profile.lastName"
                    formControlName="lastName"
                    placeholder="Last name"></ion-input>
            </ion-item>
            <ion-item>
                <ion-select [(ngModel)]="profile.country"
                    [ngModelOptions]="{standalone: true}"
                    (ionChange)="countrySelected()">
                    <ion-option [value]="c"
                        *ngFor="let c of countries">{{c.name}}</ion-option>
                </ion-select>
            </ion-item>
            <ion-item>
                <ion-select [hidden]="!states || !states.length"
                    [(ngModel)]="profile.state"
                    [ngModelOptions]="{standalone: true}"
                    (ionChange)="stateSelected()">
                    <ion-option [value]="s"
                        *ngFor="let s of states">{{s.name}}</ion-option>
                </ion-select>
                <ion-input [hidden]="states && states.length"
                    type="text"
                    [(ngModel)]="profile.stateName"
                    [ngModelOptions]="{standalone: true}"
                    formControlName="stateName"
                    placeholder="State or Province"></ion-input>
            </ion-item>


            <ion-item>
                <ion-input type="text"
                    [(ngModel)]="profile.city"
                    formControlName="city"
                    placeholder="City"></ion-input>
            </ion-item>



        </ion-item-group>
    </form>
</ion-content>
<ion-footer>
    <button class="sign-out-button" full
    
        type="text"
        danger
        small
        (click)="signOut()">
        <ion-icon name="power"></ion-icon>Sign Out
    </button>
</ion-footer>
